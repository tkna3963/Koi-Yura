<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="scripts.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <title>古明地こいしアプリ</title>
</head>

<body>
    <h1 id="now_time">2000/01/01 00:00:00(00)</h1>
    <textarea id="maintextarea" rows="1" readonly></textarea>
    <input type="range" id="pagebar" min="1" max="100" value="1">
    <div class="koisiarrow_box">古明地こいしだよ～～</div>
    <img src="baclgroundimg.jpg" id="back">
    <div id="mapcontainer"></div>
    <img src="hyoujyou_bishou_koisi.png" id="koisi" onclick="koisi_toutchdo()">
    <audio id="koisi_voice" src="koisi_toutch.wav"></audio>
    <audio id="Event_music" src="newyear.wav"></audio>

    <!-- メニュー -->
    <div id="menu">
        <h2>メニュー</h2>
        <a id="linker" target="_blank" href="viewajson.html">開発用jsonview </a>
        <a id="linker" target="_blank" href="https://github.com/tkna3963/Koi-Yura">Github </a>
        <a id="linker" target="_blank" href="https://twitter.com/tkna3963">作者Twitter </a>
        <a id="linker" target="_blank" href="thankspage.html">Thanks Page </a>
        <input type="checkbox" id="mapmode">
    </div>

    <!-- 情報メニュー -->
    <div id="infomenu">
        <h2>情報メニュー</h2>
    </div>

    <!-- ボタン -->
    <button id="toggleMenuBtn">☰</button>
    <button id="toggleinfoMenuBtn">☰</button>

    <script>
        // Menu Toggle
        const menu = document.getElementById('menu');
        const toggleMenuBtn = document.getElementById('toggleMenuBtn');

        toggleMenuBtn.addEventListener('click', () => {
            menu.classList.toggle('open');
        });

        // Infomenu Toggle
        const infomenu = document.getElementById('infomenu');
        const toggleinfoMenuBtn = document.getElementById('toggleinfoMenuBtn');

        toggleinfoMenuBtn.addEventListener('click', () => {
            infomenu.classList.toggle('open');
        });
    </script>
    <script>
        function koisi_toutchdo() {
            Koisi_voice("koisi_toutch.wav");
        }</script>
    <script>
        function init() {
            //地図を表示するdiv要素のidを設定
            var map = L.map('mapcontainer');
            //地図の中心とズームレベルを指定
            map.setView([35.40, 136], 5);
            //表示するタイルレイヤのURLとAttributionコントロールの記述を設定して、地図に追加する
            L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
                attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>"
            }).addTo(map);
        }
        init();

        function MapPopUP() {
            document.getElementById("mapcontainer").style.display = "block";
        };

        // 地図表示のトグル機能
        const mapModeCheckbox = document.getElementById('mapmode');
        const mapContainer = document.getElementById('mapcontainer');

        mapModeCheckbox.addEventListener('change', () => {
            if (mapModeCheckbox.checked) {
                mapContainer.style.display = "block"; // チェックされていれば地図表示
            } else {
                mapContainer.style.display = "none"; // チェックされていなければ地図非表示
            }
        });
    </script>

</body>

</html>